<?xml version="1.0" encoding="UTF-8"?>
<queries>
    <!--- 记住表的最后不能加分号（;）,否则spark程序会抛出异常 -->
    <!--- 不用添加DROP TABLE IF EXISTS table，程序代码会自动执行 -->
    <hql schema="dw" tableName="fact_oms_orders" discription="gc_oms订单事实表">
        CREATE TABLE if NOT EXISTS dw.fact_oms_orders(
          company_key bigint,
          warhouse_key bigint,
          sm_key bigint,
          order_id int,
          order_platform string,
          order_customer_id int,
          order_company_code string,
          order_type string,
          order_type_val string,
          order_create_type string,
          order_create_type_val string,
          order_status int,
          order_status_val string,
          order_sub_status int,
          order_sub_status_val string,
          order_cancel_status int,
          order_cancel_status_val string,
          order_create_method int,
          order_shipping_method string,
          order_shipping_method_platform string,
          order_warehouse_id string,
          order_warehouse_code string,
          order_shipping_method_no string,
          order_is_oda int,
          order_is_oda_val string,
          order_oda_type int,
          order_is_signature int,
          order_is_signature_val string,
          order_is_insurance int,
          order_is_insurance_val string,
          order_insurance_value decimal(10,3),
          order_weight decimal(10,4),
          order_desc string,
          order_date_create timestamp,
          order_date_release timestamp,
          order_date_pickup timestamp,
          order_date_warehouse_shipping timestamp,
          order_date_last_modify timestamp,
          order_refrence_no string,
          order_refrence_no_platform string,
          order_refrence_no_sys string,
          order_refrence_no_warehouse string,
          order_shipping_address_id int,
          order_operator_id string,
          order_operator_note string,
          order_sync_status string,
          order_sync_time timestamp,
          order_date_create_platform timestamp,
          order_date_paid_platform timestamp,
          order_date_paid_int int,
          order_amountpaid decimal(10,3),
          order_subtotal decimal(20,3),
          order_ship_fee decimal(20,3),
          order_platform_fee decimal(20,3),
          order_finalvaluefee decimal(20,3),
          order_delivery_fee decimal(12,3),
          order_currency string,
          order_user_account string,
          order_buyer_id string,
          order_third_part_ship int,
          order_is_merge int,
          order_site string,
          order_abnormal_type int,
          order_abnormal_type_val string,
          order_abnormal_reason string,
          order_abnormal_reason_val string,
          order_is_one_piece int,
          order_is_one_piece_val string,
          order_product_count int,
          order_consignee_country string,
          order_buyer_name string,
          order_buyer_mail string,
          order_has_buyer_note int,
          order_fulfillment_channel string,
          order_ship_service_level string,
          order_shipment_service_level_category string,
          order_leave_comment string,
          order_ebay_case_type string,
          order_refund string,
          order_process_again string,
          order_has_export int,
          order_has_pickup int,
          order_has_print_pickup_label int,
          order_service_status int,
          order_service_provider string,
          order_ot_id int,
          order_sys_tips string,
          order_consignee_name string,
          order_consignee_company string,
          order_consignee_street1 string,
          order_consignee_street2 string,
          order_consignee_street3 string,
          order_consignee_district string,
          order_consignee_county string,
          order_consignee_city string,
          order_consignee_state string,
          order_consignee_country_code string,
          order_consignee_country_name string,
          order_consignee_phone string,
          order_consignee_email string,
          order_consignee_postal_code string,
          order_consignee_doorplate string,
          order_shared_sign int,
          order_is_returns int,
          order_is_returns_val string,
          order_is_shipping_method_not_allow_update int,
          order_is_shipping_method_not_allow_update_val string,
          order_is_fba int,
          order_is_fba_val string,
          order_consignee_is_residential int,
          order_is_more_box int,
          order_is_more_box_val string,
          order_is_attachment int,
          order_is_attachment_val string,
          order_so_length decimal(10,2),
          order_o_timestamp timestamp,
          order_so_width decimal(10,2),
          order_so_height decimal(10,2),
          order_age_detection int,
          order_payment_time timestamp,
          order_is_recommend int,
          order_is_recommend_val string,
          order_is_truck_service int,
          order_is_truck_service_val string,
          order_new_order_type int,
          order_new_order_type_val string,
          order_design_batch_status int,
          order_design_batch_status_val string)
        partitioned by(month string)STORED AS PARQUET TBLPROPERTIES('parquet.compression'='SNAPPY')
    </hql>

    <hql schema="dw" tableName="fact_orders" discription="订单事实表">
        CREATE TABLE if NOT EXISTS dw.fact_orders(
          customer_key bigint,
          warehouse_key bigint,
          to_warehouse_key bigint,
          sm_key bigint,
          order_id string,
          order_code string,
          order_reference_no string,
          order_customer_id int,
          order_customer_code string,
          order_platform string,
          order_platform_type string,
          order_create_type string,
          order_warehouse_id int,
          order_to_warehouse_id int,
          order_is_oda int,
          order_is_oda_val string,
          order_oda_type int,
          order_is_signature int,
          order_is_signature_val string,
          order_is_insurance int,
          order_is_insurance_val string,
          order_insurance_value decimal(10,3),
          order_type int,
          order_type_val string,
          order_country_code string,
          order_sm_code string,
          order_advance_pickup int,
          order_parcel_declared_value decimal(10,2),
          order_shipping_fee_estimate decimal(10,3),
          order_currency_code string,
          order_parcel_contents string,
          order_parcel_quantity int,
          order_status int,
          order_status_val string,
          order_problem_status int,
          order_problem_status_val string,
          order_underreview_status int,
          order_underreview_status_val string,
          order_upload_express_status int,
          order_upload_express_status_val string,
          order_anew_express_status int,
          order_anew_express_status_val string,
          order_intercept_status int,
          order_intercept_status_val string,
          order_sync_cost_status int,
          order_sync_cost_status_val string,
          order_sync_status int,
          order_sync_status_val string,
          order_waiting_status int,
          order_waiting_status_val string,
          order_picking_status int,
          order_picking_status_val string,
          order_charge_status int,
          order_charge_status_val string,
          order_print_sort int,
          order_print_quantity int,
          order_add_time timestamp,
          order_update_time timestamp,
          order_paydate timestamp,
          order_pick_type int,
          order_pick_type_val string,
          order_picking_basket string,
          order_picker_id int,
          order_remark string,
          order_site_id string,
          order_seller_id string,
          order_buyer_id string,
          order_buyer_name string,
          order_buyer_mail string,
          order_sync_service_status int,
          order_sync_count int,
          order_sc_id int,
          order_sync_required_sign int,
          order_sync_wms_status int,
          order_sync_wms_sign int,
          order_sync_wms_time timestamp,
          order_operator_note string,
          order_exception_status int,
          order_exception_status_val string,
          order_exception_type int,
          order_exception_type_val string,
          order_exception_sub_type int,
          order_exception_sub_type_val string,
          order_shared_sign int,
          order_is_residential int,
          order_is_residential_val string,
          order_is_fba int,
          order_is_fba_val string,
          order_outbound_time timestamp,
          order_is_more_box int,
          order_is_more_box_val string,
          order_is_attachment int,
          order_is_attachment_val string,
          order_address_valid_status int,
          order_o_timestamp timestamp,
          order_age_detection int,
          order_payment_time timestamp,
          order_is_recommend int,
          order_is_recommend_val string,
          order_oms_date_create timestamp,
          order_pre_delivery_time timestamp,
          order_sc_currency_code string,
          order_is_flow_volume int,
          order_is_flow_volume_val string,
          order_is_cross_warehouse int,
          order_is_cross_warehouse_val string,
          order_is_truck_service int,
          order_is_truck_service_val string,
          order_new_order_type int,
          order_new_order_type_val string,
          order_design_batch_status int,
          order_design_batch_status_val  string
        ) partitioned by(month string)
        STORED AS PARQUET TBLPROPERTIES('parquet.compression'='SNAPPY')
    </hql>




</queries>

